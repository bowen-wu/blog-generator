---
title: JS系列 -- 基本包装类型
date: 2018-01-10 12:56:16
tags: JavaScript
---
# 概述

ECMAScript 提供了 3 个特殊的引用类型：` Boolean() ` ` Number() `  ` String() ` ，以便于操作基本类型值。

# 创建

当创建基本包装类型时，相对应的变量会有 ` __proto__ ` 的属性，此属性是基本包装类型指向 Object 类型的 ` prototype ` 。
![基本包装类型](http://upload-images.jianshu.io/upload_images/9617841-c47b07b10819e131.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



### Boolean()

![基本包装类型 Boolean](http://upload-images.jianshu.io/upload_images/9617841-4911258278ef065e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##### API
- ` valueof() ` ==> 返回基本类型值 ` true ` 或 ` false ` (重写)

- ` toString() ` ==> 返回字符串 ` 'true' ` 和 ` 'false' ` (重写)

**套路：**
```
var f1 = false;
var f2 = new Boolean(false);
if(f1){console.log(1)} //不打印
if(f2){console.log(2)} //打印2，因为在调用 f2 的时候，f2 对应的包装类型是对象，所有的对象都是真值。
```

### Number()

![基本包装类型 Number](http://upload-images.jianshu.io/upload_images/9617841-6e664f59886709f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##### API
- ` valueof() ` ==> 返回对象表示的基本类型的数值 （重写）

- ` toString() ` ==> 返回字符串形式的数值 （重写）

- ` toLocaleString() ` ==> 返回字符串形式的数值 （重写）

- ` toFixed() ` ==> 按照指定的小数位返回数值的字符串表示，参数为小数位数

- ` toExponential() ` ==> 返回以指数表示法表示的数值的字符串形式，参数为指定输出结果中的小数位数

- ` toPrecision() ` ==> 可能返回固定大小格式，也可能返回指数格式；具体规则看哪种格式更加合适，参数为表示数值的所有数字的位数（不包括指数部分）

### String()

![基本包装类型 String](http://upload-images.jianshu.io/upload_images/9617841-5c889bdc59874e0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##### API
- ` length ` ==> 属性，表示字符串中包含多少个字符

- ` valueof() `  ==> 返回对象所表示的基本字符串值

- ` toLocaleString() ` ==> 返回对象所表示的基本字符串值

- ` toString() ` ==> 返回对象所表示的基本字符串值

- ` chatAt() ` ==> 以单字符字符串的形式返回给定位置的那个字符，参数为指定位置

- ` charCodeAt() ` ==> 以字符编码的形式返回给定位置的那个字符，参数为指定位置

- ` concat() ` ==> 将一个或多个字符串拼接起来，返回拼接得到的新字符串，可以接受任意多个参数（实践中可以使用加号操作符）

- ` slice() ` ==> 返回被操作字符串的一个**子字符串**，接受一个或者两个参数，**第一个参数**指定子字符串的**开始位置**，**第二个参数**（在指定的情况下）表示子字符串的**结束位置**，**[ 开始位置，结束位置 )**。如果第二参数未指定，一直到字符串的结束为止。如果传入的**参数是负值**，将传入的负值**与字符串的长度相加**。

- ` substr() ` ==> 返回被操作字符串的一个**子字符串**，接受一个或者两个参数，**第一个参数**指定子字符串的**开始位置**，**第二个参数**（在指定的情况下）表示子字符串的**结束位置**，**[ 开始位置，结束位置 )**。如果第二参数未指定，一直到字符串的结束为止。如果传入的**参数是负值**，将负的第一个参数加上字符串的长度，将负的第二个参数转换为0。

- ` substring() ` ==> 返回被操作字符串的一个**子字符串**，接受一个或者两个参数，**第一个参数**指定子字符串的**开始位置**，**第二个参数**（在指定的情况下）表示子字符串返回的个数，**[ 开始位置，个数 )**。如果第二参数未指定，一直到字符串的结束为止。如果传入的**参数是负值**，将所有负值转换为0。

- ` indexOf() ` ==> 在一个字符串中从前向后搜索给定的子字符串，返回子字符串的位置，如果没有找到该位置，则返回 -1，接受一个或者两个参数，第一个参数表示指定的字符串，第二个参数表示从字符串中的那个位置开始搜索。

- ` lastIndexOf() ` ==> 在一个字符串中从后向前搜索给定的子字符串，返回子字符串的位置，如果没有找到该位置，则返回 -1，接受一个或者两个参数，第一个参数表示指定的字符串，第二个参数表示从字符串中的那个位置开始搜索。

- ` trim() ` ==> 创建一个字符串的副本，删除前置及后缀的所有空格，然后返回结果。

- ` toLowerCase() ` ==> 字符串大小写转换

- ` toLocaleLowerCase() ` ==> 字符串大小写转换

- ` toUpperCase() ` ==> 字符串大小写转换

- ` toLocalUpperCase() ` ==> 字符串大小写转换

- ` match() ` ==> 在字符串中匹配模式，接受一个参数，正则或者 RegExp 对象。

- ` search() ` ==> 在字符串中从前向后查找模式，返回字符串中第一个匹配项的索引，如果没有找到匹配项，则返回 -1，接受一个参数，正则或者 RegExp 对象。

- ` replace() ` ==> 替换子字符串，接受两个参数，第一个参数可以是一个 RegExp 对象或者一个字符串，第二个参数可以是一个字符串或者一个函数

- ` split() ` ==> 基于指定的分隔符将一个字符串分割成多个字符串，并将结果放在一个数组中，接受一个或两个参数，第一个参数表示分隔符，第二个参数表示数组的长度。

### 当在**读取**模式中访问 Boolean Number 和 String 类型时，后台会自动完成
1. 创建相应的基本类型的一个实例 **( var temp = new 基本包装类型; )**
2. 在实例上调用制定的方法 **( var 变量 = temp.方法; )**
3. 销毁这个实例 **( temp = null; )**

# 基本类型 和 基本包装类型 区别

基本类型 和 基本包装类型 区别在于**存储的路径**
- 基本类型存储在 **Stack(栈内存)** 中

- 基本包装类型在 **Stack(栈内存) 存储一个地址**，之后对应在 **Heap(堆内存) 中的一个对象**，其中有很多方法，可以进行操作数据。

- 例子：
    ```
    var n1 = 1;
    var n2 = new Number(1);
    ```
    两者区别在于：
  - n1 类型是 Number(基本数据类型) ，直接储存在 Stack(栈内存) 中
  - n2 类型是**基本包装类型**，在 Stack(栈内存) 存储一个地址，之后    对应在 Heap(堆内存) 中的一个对象，其中有很多方法，可以进行操作数据。

# 引用类型 和 基本包装类型 区别

引用类型 和 基本包装类型 区别在于**对象的生存期**

- 使用 new 操作符创建的引用类型的实例，在执行流离开当前作用域之前都一直保存在内存中

- 自动创建的基本包装类型的对象，只存在与一行代码的执行瞬间，然后立即被销毁